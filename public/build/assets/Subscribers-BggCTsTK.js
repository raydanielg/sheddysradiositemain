import{u as F,r as a,a as D,j as e,H as T}from"./app-Yo1wyWR6.js";import{A as E}from"./AuthenticatedLayout-iazZLGOF.js";import{K as r}from"./transition-CwRZ3kfX.js";import{h as l}from"./dialog-8evTvz47.js";import"./portal-HTPNBDrW.js";import"./hidden-CoDL6dcU.js";function o({name:n,className:d="text-[18px]"}){return e.jsx("span",{className:`material-symbols-outlined ${d} leading-none`,"aria-hidden":"true",children:n})}function K({items:n}){const{flash:d}=F().props,b=a.useMemo(()=>n??[],[n]),[j,c]=a.useState(!1),[x,h]=a.useState("create"),[y,m]=a.useState(null),[v,p]=a.useState(!1),[g,f]=a.useState(null),t=D({email:""});function k(){h("create"),m(null),t.reset(),t.clearErrors(),c(!0)}function w(s){h("edit"),m(s),t.reset(),t.clearErrors(),t.setData("email",s.email),c(!0)}function i(){c(!1),m(null),t.reset()}function N(s){f(s),p(!0)}function u(){p(!1),f(null)}function S(s){s.preventDefault(),x==="create"?t.post(route("admin.subscribers.store"),{onSuccess:()=>i()}):t.put(route("admin.subscribers.update",y.id),{onSuccess:()=>i()})}function C(){t.delete(route("admin.subscribers.destroy",g.id),{onSuccess:()=>u()})}return e.jsxs(E,{header:"Subscribers",children:[e.jsx(T,{title:"Subscribers"}),e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-extrabold text-slate-900 dark:text-white",children:"Subscribers"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Manage newsletter subscribers and email lists"})]}),e.jsxs("button",{type:"button",onClick:k,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-primary px-5 py-3 text-sm font-extrabold text-white shadow-sm transition hover:bg-primary-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:[e.jsx(o,{name:"add"}),"Add Subscriber"]})]}),d?.success?e.jsx("div",{className:"mt-5 rounded-xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800 dark:border-green-900/40 dark:bg-green-900/20 dark:text-green-200",children:d.success}):null,e.jsx("div",{className:"mt-6 overflow-hidden rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-xs font-bold uppercase tracking-wider text-slate-600 dark:bg-slate-950 dark:text-slate-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Email"}),e.jsx("th",{className:"px-4 py-3",children:"Subscribed On"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-200 bg-white dark:divide-slate-800 dark:bg-slate-900",children:[b.map(s=>e.jsxs("tr",{className:"text-slate-700 dark:text-slate-200",children:[e.jsx("td",{className:"px-4 py-3 font-semibold text-slate-900 dark:text-white",children:s.email}),e.jsx("td",{className:"px-4 py-3 text-xs",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs("button",{onClick:()=>w(s),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900",children:[e.jsx(o,{name:"edit",className:"text-[16px]"}),"Edit"]}),e.jsxs("button",{onClick:()=>N(s),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-red-200 bg-white px-3 py-2 text-xs font-bold text-red-700 shadow-sm transition hover:bg-red-50 dark:border-red-900/50 dark:bg-slate-950 dark:text-red-300 dark:hover:bg-red-900/10",children:[e.jsx(o,{name:"delete",className:"text-[16px]"}),"Delete"]})]})})]},s.id)),b.length===0?e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-8 text-slate-500 dark:text-slate-400 text-center",colSpan:3,children:"No subscribers found."})}):null]})]})})]}),e.jsx(r,{appear:!0,show:j,as:a.Fragment,children:e.jsxs(l,{as:"div",className:"relative z-50",onClose:i,children:[e.jsx(r.Child,{as:a.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(r.Child,{as:a.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsxs(l.Panel,{className:"w-full max-w-md overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-slate-200 px-6 py-5 dark:border-slate-800",children:[e.jsx(l.Title,{className:"text-xl font-black text-slate-900 dark:text-white",children:x==="create"?"Add Subscriber":"Edit Subscriber"}),e.jsx("button",{onClick:i,className:"grid h-10 w-10 place-items-center rounded-xl border border-slate-200 bg-white text-slate-700 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-800",children:e.jsx(o,{name:"close"})})]}),e.jsxs("form",{onSubmit:S,className:"px-6 py-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Email Address"}),e.jsx("input",{type:"email",value:t.data.email,onChange:s=>t.setData("email",s.target.value),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"subscriber@example.com",required:!0}),t.errors.email&&e.jsx("div",{className:"mt-1 text-xs text-red-600",children:t.errors.email})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:i,className:"inline-flex items-center justify-center rounded-2xl border border-slate-200 bg-white px-6 py-3 text-sm font-bold text-slate-800 transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t.processing,className:"inline-flex items-center justify-center rounded-2xl bg-primary px-8 py-3 text-sm font-black text-white shadow-xl shadow-primary-500/20 transition hover:bg-primary-700 active:scale-95 disabled:opacity-70",children:x==="create"?"Add":"Save Changes"})]})]})]})})})})]})}),e.jsx(r,{appear:!0,show:v,as:a.Fragment,children:e.jsxs(l,{as:"div",className:"relative z-50",onClose:u,children:[e.jsx(r.Child,{as:a.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(r.Child,{as:a.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsx(l.Panel,{className:"w-full max-w-md overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:e.jsxs("div",{className:"p-6",children:[e.jsx(l.Title,{className:"text-xl font-black text-slate-900 dark:text-white",children:"Remove subscriber?"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"They will no longer receive updates."}),e.jsx("div",{className:"mt-6 rounded-2xl bg-slate-50 p-4 font-black text-slate-900 dark:bg-slate-950 dark:text-white dark:ring-1 dark:ring-slate-800",children:g?.email}),e.jsxs("div",{className:"mt-8 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:u,className:"inline-flex items-center justify-center rounded-2xl border border-slate-200 bg-white px-6 py-3 text-sm font-bold text-slate-800 transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white",children:"Cancel"}),e.jsx("button",{onClick:C,className:"inline-flex items-center justify-center rounded-2xl bg-red-600 px-8 py-3 text-sm font-black text-white shadow-lg shadow-red-500/20 transition hover:bg-red-700 active:scale-95",children:"Delete"})]})]})})})})})]})})]})}export{K as default};
