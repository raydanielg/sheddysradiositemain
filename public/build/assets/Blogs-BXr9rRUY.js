import{u as F,r,a as S,j as e,H as T,L as P}from"./app-CM4sbrza.js";import{A as E}from"./AuthenticatedLayout-Di2Lr_nj.js";import{h as i}from"./dialog-Cbm8JlAW.js";import{K as d}from"./transition-Bc8iBYw5.js";import"./portal-B-N_eM20.js";import"./hidden-DYSB4SRe.js";function n({name:s,className:l="text-[18px]"}){return e.jsx("span",{className:`material-symbols-outlined ${l} leading-none`,"aria-hidden":"true",children:s})}function B(...s){return s.filter(Boolean).join(" ")}function y(s){if(!s)return"";if(typeof s=="string"&&s.startsWith("http")){const l=s.indexOf("/storage/");if(l!==-1)return s.slice(l)}return s}function H({items:s}){const{flash:l}=F().props,p=r.useMemo(()=>s??[],[s]),[v,x]=r.useState(!1),[m,b]=r.useState("create"),[g,u]=r.useState(null),[k,f]=r.useState(!1),[o,j]=r.useState(null),t=S({title:"",excerpt:"",body:"",author_name:"",published_at:"",sort_order:0,is_active:!0,image:null});function w(){b("create"),u(null),t.reset(),t.clearErrors(),t.setData({title:"",excerpt:"",body:"",author_name:"",published_at:new Date().toISOString().split("T")[0],sort_order:0,is_active:!0,image:null}),x(!0)}function N(a){b("edit"),u(a),t.reset(),t.clearErrors(),t.setData({title:a.title??"",excerpt:a.excerpt??"",body:a.body??"",author_name:a.author_name??"",published_at:a.published_at?new Date(a.published_at).toISOString().split("T")[0]:"",sort_order:a.sort_order??0,is_active:!!a.is_active,image:null}),x(!0)}function c(){x(!1),u(null),t.reset(),t.clearErrors()}function _(a){j(a),f(!0)}function h(){f(!1),j(null)}function C(a){if(a.preventDefault(),m==="create"){t.post(route("admin.blogs.store"),{forceFormData:!0,onSuccess:()=>c()});return}g?.id&&t.post(route("admin.blogs.update",g.id),{_method:"put",forceFormData:!0,onSuccess:()=>c()})}function D(){o?.id&&t.delete(route("admin.blogs.destroy",o.id),{onSuccess:()=>h()})}return e.jsxs(E,{header:"Blogs",children:[e.jsx(T,{title:"Blogs"}),e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-extrabold text-slate-900 dark:text-white",children:"Blogs"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Create, edit, and manage blog posts"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{href:"/blogs",className:"inline-flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-5 py-3 text-sm font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white",children:"View Public"}),e.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-primary px-5 py-3 text-sm font-extrabold text-white shadow-sm transition hover:bg-primary-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:[e.jsx(n,{name:"add"}),"Create Post"]})]})]}),l?.success?e.jsx("div",{className:"mt-5 rounded-xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800 dark:border-green-900/40 dark:bg-green-900/20 dark:text-green-200",children:l.success}):null,e.jsx("div",{className:"mt-6 overflow-hidden rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-xs font-bold uppercase tracking-wider text-slate-600 dark:bg-slate-950 dark:text-slate-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Cover"}),e.jsx("th",{className:"px-4 py-3",children:"Title"}),e.jsx("th",{className:"px-4 py-3",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-200 bg-white dark:divide-slate-800 dark:bg-slate-900",children:[p.map(a=>e.jsxs("tr",{className:"text-slate-700 dark:text-slate-200",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-10 w-16 overflow-hidden rounded-lg bg-slate-200 ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:a.image_url?e.jsx("img",{src:y(a.image_url),alt:"",className:"h-full w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"grid h-full w-full place-items-center bg-primary-50 text-primary-600",children:e.jsx(n,{name:"article"})})})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-bold text-slate-900 dark:text-white line-clamp-1",children:a.title}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:a.slug})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:B("inline-flex items-center rounded-full px-3 py-1 text-[10px] font-bold uppercase tracking-wider ring-1",a.is_active?"bg-green-50 text-green-700 ring-green-200 dark:bg-green-900/20 dark:text-green-200":"bg-slate-100 text-slate-600 ring-slate-200 dark:bg-slate-950 dark:text-slate-300"),children:a.is_active?"Published":"Draft"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>N(a),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900",children:[e.jsx(n,{name:"edit",className:"text-[16px]"}),"Edit"]}),e.jsxs("button",{type:"button",onClick:()=>_(a),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-red-200 bg-white px-3 py-2 text-xs font-bold text-red-700 shadow-sm transition hover:bg-red-50 dark:border-red-900/50 dark:bg-slate-950 dark:text-red-300 dark:hover:bg-red-900/10",children:[e.jsx(n,{name:"delete",className:"text-[16px]"}),"Delete"]})]})})]},a.id)),p.length===0?e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-8 text-slate-500 dark:text-slate-400",colSpan:4,children:"No blog posts found."})}):null]})]})})]}),e.jsx(d,{appear:!0,show:v,as:r.Fragment,children:e.jsxs(i,{as:"div",className:"relative z-50",onClose:c,children:[e.jsx(d.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(d.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsxs(i.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-3xl bg-white text-left align-middle shadow-2xl transition-all dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-slate-200 px-6 py-5 dark:border-slate-800",children:[e.jsx("div",{children:e.jsx(i.Title,{className:"text-xl font-black text-slate-900 dark:text-white",children:m==="create"?"Add New Post":"Edit Post"})}),e.jsx("button",{type:"button",onClick:c,className:"grid h-10 w-10 place-items-center rounded-xl border border-slate-200 bg-white text-slate-700 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-800",children:e.jsx(n,{name:"close"})})]}),e.jsxs("form",{onSubmit:C,className:"px-6 py-6",children:[e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Post Title"}),e.jsx("input",{value:t.data.title,onChange:a=>t.setData("title",a.target.value),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"Enter blog title..."}),t.errors.title?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:t.errors.title}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Content Body"}),e.jsx("textarea",{value:t.data.body,onChange:a=>t.setData("body",a.target.value),rows:12,className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950 dark:text-white font-serif",placeholder:"Write your article content here..."}),t.errors.body?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:t.errors.body}):null]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Short Excerpt"}),e.jsx("textarea",{value:t.data.excerpt,onChange:a=>t.setData("excerpt",a.target.value),rows:3,className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"Brief summary..."}),t.errors.excerpt?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:t.errors.excerpt}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Author Name"}),e.jsx("input",{value:t.data.author_name,onChange:a=>t.setData("author_name",a.target.value),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"e.g. Sheddy"}),t.errors.author_name?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:t.errors.author_name}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Published Date"}),e.jsx("input",{type:"date",value:t.data.published_at,onChange:a=>t.setData("published_at",a.target.value),className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/10 dark:border-slate-800 dark:bg-slate-950 dark:text-white"}),t.errors.published_at?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:t.errors.published_at}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Cover Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:a=>t.setData("image",a.target.files?.[0]??null),className:"mt-3 block w-full text-sm text-slate-700 file:mr-4 file:rounded-full file:border-0 file:bg-primary-50 file:px-6 file:py-2.5 file:text-sm file:font-black file:text-primary-700 hover:file:bg-primary-100 dark:text-slate-300 dark:file:bg-primary-900/30"}),t.errors.image?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:t.errors.image}):null]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:!!t.data.is_active,onChange:a=>t.setData("is_active",a.target.checked),className:"h-5 w-5 rounded-lg border-slate-300 text-primary focus:ring-primary"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Publish Post"})]})]})]}),e.jsxs("div",{className:"mt-10 flex items-center justify-end gap-3 border-t border-slate-200 pt-6 dark:border-slate-800",children:[e.jsx("button",{type:"button",onClick:c,className:"inline-flex items-center justify-center rounded-2xl border border-slate-200 bg-white px-6 py-3.5 text-sm font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:t.processing,className:"inline-flex items-center justify-center rounded-2xl bg-primary px-8 py-3.5 text-sm font-black text-white shadow-xl shadow-primary-500/20 transition hover:bg-primary-700 disabled:cursor-not-allowed disabled:opacity-70 active:scale-95",children:m==="create"?"Create Post":"Save Changes"})]})]})]})})})})]})}),e.jsx(d,{appear:!0,show:k,as:r.Fragment,children:e.jsxs(i,{as:"div",className:"relative z-50",onClose:h,children:[e.jsx(d.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(d.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsx(i.Panel,{className:"w-full max-w-md overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:e.jsxs("div",{className:"p-6",children:[e.jsx(i.Title,{className:"text-xl font-black text-slate-900 dark:text-white",children:"Delete blog post?"}),e.jsx("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"This action cannot be undone."}),e.jsxs("div",{className:"mt-6 flex items-center gap-4 rounded-2xl bg-slate-50 p-4 dark:bg-slate-950 dark:ring-1 dark:ring-slate-800",children:[e.jsx("div",{className:"h-12 w-16 overflow-hidden rounded-lg ring-1 ring-slate-200",children:o?.image_url?e.jsx("img",{src:y(o.image_url),alt:"",className:"h-full w-full object-cover"}):e.jsx("div",{className:"grid h-full w-full place-items-center bg-primary-100 text-primary-600",children:e.jsx(n,{name:"article"})})}),e.jsx("div",{className:"font-black text-slate-900 dark:text-white line-clamp-1",children:o?.title})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"inline-flex items-center justify-center rounded-2xl border border-slate-200 bg-white px-6 py-3 text-sm font-bold text-slate-800 transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white",children:"Cancel"}),e.jsx("button",{type:"button",onClick:D,disabled:t.processing,className:"inline-flex items-center justify-center rounded-2xl bg-red-600 px-8 py-3 text-sm font-black text-white shadow-lg shadow-red-500/20 transition hover:bg-red-700 disabled:opacity-70 active:scale-95",children:"Delete"})]})]})})})})})]})})]})}export{H as default};
