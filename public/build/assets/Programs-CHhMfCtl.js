import{u as S,r,a as P,j as e,H as T}from"./app-Yo1wyWR6.js";import{A as E}from"./AuthenticatedLayout-iazZLGOF.js";import{K as i}from"./transition-CwRZ3kfX.js";import{h as d}from"./dialog-8evTvz47.js";import"./portal-HTPNBDrW.js";import"./hidden-CoDL6dcU.js";function o({name:a,className:l="text-[18px]"}){return e.jsx("span",{className:`material-symbols-outlined ${l} leading-none`,"aria-hidden":"true",children:a})}function A(...a){return a.filter(Boolean).join(" ")}function O(a){if(!a)return"";if(typeof a=="string"&&a.startsWith("http")){const l=a.indexOf("/storage/");if(l!==-1)return a.slice(l)}return a}const y={1:"Jumatatu",2:"Jumanne",3:"Jumatano",4:"Alhamisi",5:"Ijumaa",6:"Jumamosi",7:"Jumapili"};function B({items:a}){const{flash:l}=S().props,g=r.useMemo(()=>a??[],[a]),[v,c]=r.useState(!1),[x,p]=r.useState("create"),[b,m]=r.useState(null),[k,f]=r.useState(!1),[h,j]=r.useState(null),s=P({day_of_week:1,title:"",host:"",start_time:"",end_time:"",description:"",sort_order:0,is_active:!0,image:null});function N(){p("create"),m(null),s.reset(),s.clearErrors(),s.setData({day_of_week:1,title:"",host:"",start_time:"",end_time:"",description:"",sort_order:0,is_active:!0,image:null}),c(!0)}function w(t){p("edit"),m(t),s.reset(),s.clearErrors(),s.setData({day_of_week:t.day_of_week??1,title:t.title??"",host:t.host??"",start_time:t.start_time??"",end_time:t.end_time??"",description:t.description??"",sort_order:t.sort_order??0,is_active:!!t.is_active,image:null}),c(!0)}function n(){c(!1),m(null),s.reset(),s.clearErrors()}function _(t){j(t),f(!0)}function u(){f(!1),j(null)}function C(t){if(t.preventDefault(),x==="create"){s.post(route("admin.programs.store"),{forceFormData:!0,onSuccess:()=>n()});return}b?.id&&s.put(route("admin.programs.update",b.id),{forceFormData:!0,onSuccess:()=>n()})}function D(){h?.id&&s.delete(route("admin.programs.destroy",h.id),{onSuccess:()=>u()})}return e.jsxs(E,{header:"Programs",children:[e.jsx(T,{title:"Programs"}),e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-extrabold text-slate-900 dark:text-white",children:"Programs"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Create, edit, and manage schedule programs (Vipindi)"})]}),e.jsxs("button",{type:"button",onClick:N,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-primary px-5 py-3 text-sm font-extrabold text-white shadow-sm transition hover:bg-primary-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:[e.jsx(o,{name:"add"}),"Create"]})]}),l?.success?e.jsx("div",{className:"mt-5 rounded-xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800 dark:border-green-900/40 dark:bg-green-900/20 dark:text-green-200",children:l.success}):null,e.jsx("div",{className:"mt-6 overflow-hidden rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-xs font-bold uppercase tracking-wider text-slate-600 dark:bg-slate-950 dark:text-slate-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Image"}),e.jsx("th",{className:"px-4 py-3",children:"Program"}),e.jsx("th",{className:"px-4 py-3",children:"Day"}),e.jsx("th",{className:"px-4 py-3",children:"Time"}),e.jsx("th",{className:"px-4 py-3",children:"Active"}),e.jsx("th",{className:"px-4 py-3",children:"Sort"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-200 bg-white dark:divide-slate-800 dark:bg-slate-900",children:[g.map(t=>e.jsxs("tr",{className:"text-slate-700 dark:text-slate-200",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-10 w-14 overflow-hidden rounded-lg bg-slate-200 ring-1 ring-slate-200 dark:bg-slate-800 dark:ring-slate-700",children:t.image_url?e.jsx("img",{src:O(t.image_url),alt:"",className:"h-full w-full object-cover",loading:"lazy"}):null})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:t.title}),t.host?e.jsxs("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:["Host: ",t.host]}):null]}),e.jsx("td",{className:"px-4 py-3",children:y[t.day_of_week]??t.day_of_week}),e.jsxs("td",{className:"px-4 py-3",children:[t.start_time," - ",t.end_time]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:A("inline-flex items-center rounded-full px-3 py-1 text-xs font-bold ring-1",t.is_active?"bg-green-50 text-green-700 ring-green-200 dark:bg-green-900/20 dark:text-green-200 dark:ring-green-900/40":"bg-slate-100 text-slate-600 ring-slate-200 dark:bg-slate-950 dark:text-slate-300 dark:ring-slate-800"),children:t.is_active?"Active":"Hidden"})}),e.jsx("td",{className:"px-4 py-3",children:t.sort_order??0}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>w(t),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900",children:[e.jsx(o,{name:"edit",className:"text-[16px]"}),"Edit"]}),e.jsxs("button",{type:"button",onClick:()=>_(t),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-red-200 bg-white px-3 py-2 text-xs font-bold text-red-700 shadow-sm transition hover:bg-red-50 dark:border-red-900/50 dark:bg-slate-950 dark:text-red-300 dark:hover:bg-red-900/10",children:[e.jsx(o,{name:"delete",className:"text-[16px]"}),"Delete"]})]})})]},t.id)),g.length===0?e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-8 text-slate-500 dark:text-slate-400",colSpan:7,children:"No programs found."})}):null]})]})})]}),e.jsx(i,{appear:!0,show:v,as:r.Fragment,children:e.jsxs(d,{as:"div",className:"relative z-50",onClose:n,children:[e.jsx(i.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(i.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsxs(d.Panel,{className:"w-full max-w-2xl overflow-hidden rounded-2xl bg-white shadow-xl ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-slate-200 px-6 py-4 dark:border-slate-800",children:[e.jsxs("div",{children:[e.jsx(d.Title,{className:"text-lg font-extrabold text-slate-900 dark:text-white",children:x==="create"?"Create Program":"Edit Program"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Program details for the schedule"})]}),e.jsx("button",{type:"button",onClick:n,className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 bg-white text-slate-700 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-800","aria-label":"Close",children:e.jsx(o,{name:"close"})})]}),e.jsxs("form",{onSubmit:C,className:"px-6 py-5",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Program title"}),e.jsx("input",{value:s.data.title,onChange:t=>s.setData("title",t.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"e.g. Asubuhi na Sheddy's"}),s.errors.title?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.title}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Day"}),e.jsx("select",{value:s.data.day_of_week,onChange:t=>s.setData("day_of_week",Number(t.target.value)),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-slate-800 dark:bg-slate-950 dark:text-white",children:Object.entries(y).map(([t,F])=>e.jsx("option",{value:Number(t),children:F},t))}),s.errors.day_of_week?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.day_of_week}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Host"}),e.jsx("input",{value:s.data.host,onChange:t=>s.setData("host",t.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"e.g. Ray"}),s.errors.host?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.host}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Start time"}),e.jsx("input",{value:s.data.start_time,onChange:t=>s.setData("start_time",t.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"06:00"}),s.errors.start_time?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.start_time}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"End time"}),e.jsx("input",{value:s.data.end_time,onChange:t=>s.setData("end_time",t.target.value),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"09:00"}),s.errors.end_time?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.end_time}):null]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Description"}),e.jsx("textarea",{value:s.data.description,onChange:t=>s.setData("description",t.target.value),rows:4,className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-slate-800 dark:bg-slate-950 dark:text-white",placeholder:"Short description..."}),s.errors.description?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.description}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Sort Order"}),e.jsx("input",{type:"number",value:s.data.sort_order,onChange:t=>s.setData("sort_order",Number(t.target.value)),className:"mt-2 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm text-slate-900 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-slate-800 dark:bg-slate-950 dark:text-white"}),s.errors.sort_order?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.sort_order}):null]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Status"}),e.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:!!s.data.is_active,onChange:t=>s.setData("is_active",t.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm text-slate-700 dark:text-slate-300",children:"Active"})]}),s.errors.is_active?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.is_active}):null]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Image (optional)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>s.setData("image",t.target.files?.[0]??null),className:"mt-2 block w-full text-sm text-slate-700 file:mr-4 file:rounded-xl file:border-0 file:bg-slate-100 file:px-4 file:py-2 file:text-sm file:font-bold file:text-slate-800 hover:file:bg-slate-200 dark:text-slate-200 dark:file:bg-slate-950 dark:file:text-white dark:hover:file:bg-slate-800"}),s.errors.image?e.jsx("div",{className:"mt-1 text-xs text-red-600",children:s.errors.image}):null]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:n,className:"inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-5 py-3 text-sm font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s.processing,className:"inline-flex items-center justify-center rounded-xl bg-primary px-6 py-3 text-sm font-extrabold text-white shadow-sm transition hover:bg-primary-700 disabled:cursor-not-allowed disabled:opacity-70",children:x==="create"?"Create":"Save changes"})]})]})]})})})})]})}),e.jsx(i,{appear:!0,show:k,as:r.Fragment,children:e.jsxs(d,{as:"div",className:"relative z-50",onClose:u,children:[e.jsx(i.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(i.Child,{as:r.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsx(d.Panel,{className:"w-full max-w-md overflow-hidden rounded-2xl bg-white shadow-xl ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:e.jsxs("div",{className:"px-6 py-5",children:[e.jsx(d.Title,{className:"text-lg font-extrabold text-slate-900 dark:text-white",children:"Delete program?"}),e.jsx("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"This action cannot be undone."}),e.jsx("div",{className:"mt-5 rounded-xl bg-slate-50 px-4 py-3 text-sm font-semibold text-slate-900 ring-1 ring-slate-200 dark:bg-slate-950 dark:text-white dark:ring-slate-800",children:h?.title}),e.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:u,className:"inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-5 py-3 text-sm font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900",children:"Cancel"}),e.jsx("button",{type:"button",onClick:D,disabled:s.processing,className:"inline-flex items-center justify-center rounded-xl bg-red-600 px-6 py-3 text-sm font-extrabold text-white shadow-sm transition hover:bg-red-700 disabled:cursor-not-allowed disabled:opacity-70",children:"Delete"})]})]})})})})})]})})]})}export{B as default};
