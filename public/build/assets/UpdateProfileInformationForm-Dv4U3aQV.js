import{u as c,r as u,a as N,j as e,L as w}from"./app-CM4sbrza.js";import{I as o,T as x}from"./TextInput--CWkq_x8.js";import{I as f}from"./InputLabel-B8lTbiD7.js";import{P}from"./PrimaryButton-CCpZdpWM.js";import{K as I}from"./transition-Bc8iBYw5.js";function _({mustVerifyEmail:p,status:h,className:v=""}){const t=c().props.auth.user,n=c().props.flash,[s,m]=u.useState(null),g=u.useMemo(()=>s||t?.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(t?.name??"User")}&background=ef4444&color=fff&bold=true&size=160`,[s,t?.avatar_url,t?.name]),{data:d,setData:r,post:b,errors:l,processing:j,recentlySuccessful:k}=N({_method:"patch",name:t.name,email:t.email,avatar:null}),y=a=>{a.preventDefault(),b(route("profile.update"),{forceFormData:!0,preserveScroll:!0})};return e.jsxs("section",{className:v,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-black text-slate-900 dark:text-white",children:"Profile Information"}),e.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"Update your account details and profile photo."})]}),n?.success?e.jsx("div",{className:"mt-5 rounded-2xl border border-green-200 bg-green-50 px-4 py-3 text-sm font-semibold text-green-800 dark:border-green-900/40 dark:bg-green-900/20 dark:text-green-200",children:n.success}):null,e.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-5 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 overflow-hidden rounded-2xl ring-2 ring-white shadow-sm dark:ring-slate-900",children:e.jsx("img",{src:g,alt:"",className:"h-full w-full object-cover"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-slate-900 dark:text-white",children:"Profile Photo"}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PNG/JPG/WebP up to 5MB"})]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:a=>{const i=a.target.files?.[0]??null;r("avatar",i),m(i?URL.createObjectURL(i):null)},className:"block w-full text-sm text-slate-700 file:mr-4 file:rounded-full file:border-0 file:bg-primary-50 file:px-6 file:py-2.5 file:text-sm file:font-black file:text-primary-700 hover:file:bg-primary-100 dark:text-slate-300 dark:file:bg-primary-900/30"}),e.jsx(o,{className:"mt-2",message:l.avatar})]})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"name",value:"Name"}),e.jsx(x,{id:"name",className:"mt-2 block w-full rounded-2xl border-slate-200 shadow-sm focus:border-primary focus:ring-primary/20 dark:border-slate-800 dark:bg-slate-950 dark:text-white",value:d.name,onChange:a=>r("name",a.target.value),required:!0,isFocused:!0,autoComplete:"name"}),e.jsx(o,{className:"mt-2",message:l.name})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"email",value:"Email"}),e.jsx(x,{id:"email",type:"email",className:"mt-2 block w-full rounded-2xl border-slate-200 shadow-sm focus:border-primary focus:ring-primary/20 dark:border-slate-800 dark:bg-slate-950 dark:text-white",value:d.email,onChange:a=>r("email",a.target.value),required:!0,autoComplete:"username"}),e.jsx(o,{className:"mt-2",message:l.email})]}),p&&t.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"mt-2 text-sm text-slate-700 dark:text-slate-300",children:["Your email address is unverified.",e.jsx(w,{href:route("verification.send"),method:"post",as:"button",className:"ml-1 rounded-md text-sm font-bold text-primary underline hover:text-primary-700 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:"Click here to re-send the verification email."})]}),h==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-bold text-green-600",children:"A new verification link has been sent to your email address."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P,{disabled:j,children:"Save"}),e.jsx(I,{show:k,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Saved."})})]})]})]})}export{_ as default};
