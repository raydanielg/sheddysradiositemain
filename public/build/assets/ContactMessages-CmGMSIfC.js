import{u as w,r as s,a as C,j as e,H as F}from"./app-CM4sbrza.js";import{A as S}from"./AuthenticatedLayout-Di2Lr_nj.js";import{K as i}from"./transition-Bc8iBYw5.js";import{h as n}from"./dialog-Cbm8JlAW.js";import"./portal-B-N_eM20.js";import"./hidden-DYSB4SRe.js";function c({name:l,className:r="text-[18px]"}){return e.jsx("span",{className:`material-symbols-outlined ${r} leading-none`,"aria-hidden":"true",children:l})}function g(l){if(!l)return"";const r=new Date(l);return Number.isNaN(r.getTime())?l:r.toLocaleString()}function E({items:l}){const{flash:r}=w().props,m=s.useMemo(()=>l??[],[l]),[j,h]=s.useState(!1),[a,p]=s.useState(null),[f,u]=s.useState(!1),[d,b]=s.useState(null),v=C({});function y(t){p(t),h(!0)}function o(){h(!1),p(null)}function k(t){b(t),u(!0)}function x(){u(!1),b(null)}function N(){d?.id&&v.delete(route("admin.contact-messages.destroy",d.id),{onSuccess:()=>x()})}return e.jsxs(S,{header:"Contact Messages",children:[e.jsx(F,{title:"Contact Messages"}),e.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:[e.jsx("div",{className:"flex flex-wrap items-start justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-extrabold text-slate-900 dark:text-white",children:"Contact Messages"}),e.jsx("div",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:"View and manage messages from the contact form"})]})}),r?.success?e.jsx("div",{className:"mt-5 rounded-xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800 dark:border-green-900/40 dark:bg-green-900/20 dark:text-green-200",children:r.success}):null,e.jsx("div",{className:"mt-6 overflow-hidden rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-xs font-bold uppercase tracking-wider text-slate-600 dark:bg-slate-950 dark:text-slate-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3",children:"Sender"}),e.jsx("th",{className:"px-4 py-3",children:"Subject"}),e.jsx("th",{className:"px-4 py-3",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-200 bg-white dark:divide-slate-800 dark:bg-slate-900",children:[m.map(t=>e.jsxs("tr",{className:"text-slate-700 dark:text-slate-200",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:t.name}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.email})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"line-clamp-1",children:t.subject??"(No Subject)"})}),e.jsx("td",{className:"px-4 py-3 text-xs",children:g(t.created_at)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>y(t),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs font-bold text-slate-800 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900",children:[e.jsx(c,{name:"visibility",className:"text-[16px]"}),"View"]}),e.jsxs("button",{type:"button",onClick:()=>k(t),className:"inline-flex items-center justify-center gap-2 rounded-xl border border-red-200 bg-white px-3 py-2 text-xs font-bold text-red-700 shadow-sm transition hover:bg-red-50 dark:border-red-900/50 dark:bg-slate-950 dark:text-red-300 dark:hover:bg-red-900/10",children:[e.jsx(c,{name:"delete",className:"text-[16px]"}),"Delete"]})]})})]},t.id)),m.length===0?e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-8 text-slate-500 dark:text-slate-400 text-center",colSpan:4,children:"No messages found."})}):null]})]})})]}),e.jsx(i,{appear:!0,show:j,as:s.Fragment,children:e.jsxs(n,{as:"div",className:"relative z-50",onClose:o,children:[e.jsx(i.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(i.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsxs(n.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-3xl bg-white text-left align-middle shadow-2xl transition-all dark:bg-slate-900",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-slate-200 px-6 py-5 dark:border-slate-800",children:[e.jsxs("div",{children:[e.jsx(n.Title,{className:"text-xl font-black text-slate-900 dark:text-white",children:"Message Details"}),e.jsxs("div",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:["From ",a?.name," on ",g(a?.created_at)]})]}),e.jsx("button",{type:"button",onClick:o,className:"grid h-10 w-10 place-items-center rounded-xl border border-slate-200 bg-white text-slate-700 shadow-sm transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-800",children:e.jsx(c,{name:"close"})})]}),e.jsxs("div",{className:"px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Sender"}),e.jsx("div",{className:"mt-1 font-bold text-slate-900 dark:text-white",children:a?.name}),e.jsx("div",{className:"text-sm text-primary font-semibold",children:a?.email}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:a?.phone??"No phone provided"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Subject"}),e.jsx("div",{className:"mt-1 font-bold text-slate-900 dark:text-white",children:a?.subject??"(No Subject)"})]})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 p-5 ring-1 ring-slate-200 dark:bg-slate-950 dark:ring-slate-800",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-3",children:"Message"}),e.jsx("div",{className:"text-sm leading-relaxed text-slate-700 dark:text-slate-200 whitespace-pre-wrap",children:a?.message})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-end gap-3 border-t border-slate-200 px-6 py-5 dark:border-slate-800",children:[e.jsx("button",{type:"button",onClick:o,className:"inline-flex items-center justify-center rounded-2xl bg-slate-100 px-6 py-3 text-sm font-bold text-slate-800 transition hover:bg-slate-200 dark:bg-slate-800 dark:text-white dark:hover:bg-slate-700",children:"Close"}),e.jsxs("a",{href:`mailto:${a?.email}?subject=Re: ${a?.subject}`,className:"inline-flex items-center justify-center gap-2 rounded-2xl bg-primary px-8 py-3 text-sm font-black text-white shadow-xl shadow-primary-500/20 transition hover:bg-primary-700 active:scale-95",children:[e.jsx(c,{name:"reply"}),"Reply via Email"]})]})]})})})})]})}),e.jsx(i,{appear:!0,show:f,as:s.Fragment,children:e.jsxs(n,{as:"div",className:"relative z-50",onClose:x,children:[e.jsx(i.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(i.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-4 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 scale-95",children:e.jsx(n.Panel,{className:"w-full max-w-md overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200 dark:bg-slate-900 dark:ring-slate-800",children:e.jsxs("div",{className:"p-6",children:[e.jsx(n.Title,{className:"text-xl font-black text-slate-900 dark:text-white",children:"Delete message?"}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"This will permanently remove the message from your database."}),e.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-50 p-4 dark:bg-slate-950 dark:ring-1 dark:ring-slate-800",children:[e.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:d?.name}),e.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:d?.subject})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:x,className:"inline-flex items-center justify-center rounded-2xl border border-slate-200 bg-white px-6 py-3 text-sm font-bold text-slate-800 transition hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-white",children:"Cancel"}),e.jsx("button",{onClick:N,className:"inline-flex items-center justify-center rounded-2xl bg-red-600 px-8 py-3 text-sm font-black text-white shadow-lg shadow-red-500/20 transition hover:bg-red-700 active:scale-95",children:"Delete"})]})]})})})})})]})})]})}export{E as default};
