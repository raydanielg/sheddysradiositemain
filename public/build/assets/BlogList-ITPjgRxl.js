import{u as h,r as m,j as e}from"./app-Yo1wyWR6.js";import{g as x}from"./radioPlayer-D1uJMMe3.js";function b(t,a={}){const[l,n]=m.useState(!1);return m.useEffect(()=>{if(!t.current)return;const r=new IntersectionObserver(([i])=>{i.isIntersecting&&(n(!0),r.disconnect())},a);return r.observe(t.current),()=>r.disconnect()},[t,a]),l}function p(t){if(!t)return"";const a=new Date(t);if(Number.isNaN(a.getTime()))return t;const l=String(a.getDate()).padStart(2,"0"),n=String(a.getMonth()+1).padStart(2,"0"),r=a.getFullYear();return`${l}/${n}/${r}`}function w(t){if(!t)return"";const a=new Date(t);if(Number.isNaN(a.getTime()))return"";const l=Date.now()-a.getTime(),n=Math.max(0,Math.floor(l/1e3));if(n<60)return"Just now";const r=Math.floor(n/60);if(r<60)return`${r} minute${r===1?"":"s"} ago`;const i=Math.floor(r/60);if(i<24)return`${i} hour${i===1?"":"s"} ago`;const d=Math.floor(i/24);return d<7?`${d} day${d===1?"":"s"} ago`:p(t)}function v(t){return e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsx("path",{d:"M12 8v4l2.5 2.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0Z",stroke:"currentColor",strokeWidth:"2"})]})}function j({blogs:t}){const a=h().props.site_settings?.stream_url,l=m.useMemo(()=>t??[],[t]),[n,r]=m.useState(null),i=m.useRef(null),d=b(i,{threshold:.15});async function g(s){const f=`/blogs/${s.slug}`,c=typeof window<"u"?`${window.location.origin}${f}`:f,u=s.title??"Sheddy's Radio";try{typeof navigator<"u"&&navigator.share?await navigator.share({title:u,url:c}):typeof navigator<"u"&&navigator.clipboard?.writeText&&(await navigator.clipboard.writeText(c),r(s.id??s.slug??s.title),window.setTimeout(()=>r(null),1400))}catch{}}return e.jsx("section",{ref:i,className:"mt-14",children:e.jsxs("div",{className:"rounded-2xl bg-gradient-to-b from-slate-50 to-white px-6 py-10 dark:from-slate-900 dark:to-slate-900",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-extrabold tracking-tight text-slate-900 dark:text-white",children:"Makala za Hivi Karibuni"}),e.jsx("div",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:"Soma makala zetu za hivi karibuni"})]}),e.jsx("a",{href:"/blogs",className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 dark:border-slate-800 dark:bg-slate-900 dark:text-white dark:hover:bg-slate-800",children:"Tazama Zote"})]}),e.jsxs("div",{className:"relative mt-8",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-12 bg-gradient-to-r from-slate-50 to-transparent dark:from-slate-900"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-12 bg-gradient-to-l from-slate-50 to-transparent dark:from-slate-900"}),e.jsx("div",{className:"-mx-6 flex snap-x snap-mandatory gap-6 overflow-x-auto px-6 pb-2",children:l.map((s,f)=>{const c=s.id??s.slug??s.title,u=n===c;return e.jsx("div",{className:"snap-start cursor-pointer overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 transition duration-700 hover:shadow-lg dark:bg-slate-900 dark:ring-slate-800 "+(d?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),style:{transitionDelay:`${f*90}ms`},role:"button",tabIndex:0,onClick:()=>x().play(a,{title:"Sheddy's New Look Radio",subtitle:"Live Stream"}),onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),x().play(a,{title:"Sheddy's New Look Radio",subtitle:"Live Stream"}))},children:e.jsxs("div",{className:"min-w-[290px] sm:min-w-[360px] lg:min-w-[380px]",children:[e.jsxs("div",{className:"relative h-48 w-full bg-slate-200 dark:bg-slate-800",children:[e.jsx("img",{src:s.image_url||"/logo1.jpeg",alt:s.title,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/45 via-black/0 to-transparent"}),e.jsxs("div",{className:"absolute left-4 top-4 inline-flex items-center gap-2 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-slate-800 shadow-sm ring-1 ring-white/50 backdrop-blur dark:bg-slate-950/80 dark:text-white",children:[e.jsx(v,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:w(s.published_at)})]})]}),e.jsxs("div",{className:"flex h-[268px] flex-col p-6",children:[e.jsx("div",{className:"text-lg font-extrabold leading-snug text-slate-900 dark:text-white",children:s.title}),e.jsx("div",{className:"mt-3 line-clamp-3 text-sm leading-relaxed text-slate-600 dark:text-slate-300",children:s.excerpt}),e.jsxs("div",{className:"mt-auto pt-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-xs font-semibold text-slate-500 dark:text-slate-400",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),"Latest"]}),e.jsxs("button",{type:"button",onClick:o=>{o.stopPropagation(),g(s)},className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 dark:border-slate-800 dark:bg-slate-950 dark:text-white dark:hover:bg-slate-900 "+(u?"text-primary":""),"aria-label":"Share",children:[e.jsx("span",{className:"material-symbols-outlined text-[18px] leading-none transition "+(u?"scale-110":""),"aria-hidden":"true",children:"share"}),u?"Copied":"Share"]})]}),e.jsx("a",{href:`/blogs/${s.slug}`,onClick:o=>o.stopPropagation(),className:"mt-4 inline-flex w-full items-center justify-center rounded-xl bg-primary px-5 py-3 text-sm font-extrabold text-white shadow-sm transition hover:bg-primary-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:"Soma Makala"})]})]})]})},c)})})]})]})})}export{j as default};
